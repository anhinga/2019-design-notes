# Architecture notes (in progress)

I don't have a ready final architecture in my mind, which just needs to be written. The [History.md](History.md) gives me some ideas and some warnings about potential problems.

So I'll start just with putting those ideas and those notes about problem here.

## Preliminary snippets

### Graph editor controller for a changing graph

This is an interesting problem. If one edits on the level of network matrix, one can trigger a change without knowing the exact state of the matrix. Even if the change algebraically depend on the moving target, still one can use the current snapshot of that target to get the needed values.

But with explicit graph editing one cannot play it this way: if a graph is changing in front of you, it would not be possible to reasonably manipulate it with a mouse.

So a tentative solution is as follows: if one is dealing with a morphing graph, one makes a copy (a frozen in time snapshot of the graph in question), edits it, and sends forward a delta generated by this edit. We expect that any given delta can always be applied to any graph whatsoever (this is certainly true, if one does it on the level of weight-connectivity matrices corresponding to the graphs, one can always add two matrices, and any matrix over reasonable signature of indices has an interpretation as a network graph).
